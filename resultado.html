<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deezer Project</title>
    <link rel="stylesheet" href="stylesheet.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>
    <nav class="nav navbar">
        <ul >
            <li><a href="index.html" >Home</a></li>
            <li><a href="genero.html">Genero</a></li>
            <li><a href="artista.html" >Artista</a></li>
            <li><a href="album.html" >Album</a></li>
        </ul>
    </nav>
    <main>
        <section  class="search">
            <input type="text" class="searchTerm" placeholder="Busca tu Artista" id="SearchTerm">
            <button type="submit" class="searchButton" onclick="buscarTermino()">
                <img src="img/magnifier.png" alt="">
            </button>
            
        </section>
    
        <section id="albumarea" class="p-3">
            


        </section>
        
    </main>
    <style>
    th{ 
        color:#fff;
            }
</style>


<table class="table table-striped">
    <tr  class="bg-info">
        <th>First</th>
        <th>Last</th>
        <th>Email</th>
    </tr>

    <tbody id="myTable">
        
    </tbody>
</table>
    <script>

    function limpiarTabla(){
        $("#myTable").find("tr").remove();

    }    

    function buscarTermino(){
        

        var SearchTerm = $("#SearchTerm").val();
        let urlXD = "https://cors-anywhere.herokuapp.com/https://api.deezer.com/search/artist?q=" + SearchTerm;
        var myArray = []
        

        $.ajax({
            method:'GET',
            url:urlXD,
            success:function(response){
                myArray = response.data
                buildTable(myArray)
                console.log(myArray)
            }
        })

    }

    function buildTable(data){
        var table = document.getElementById('myTable')

        for (var i = 0; i < data.length; i++){
            var row = `<tr>

                            <td><a href="resultado.html/?id=${data[i].link}">${data[i].name}</a></td>
                            <td><img src="${data[i].picture_small}"></td>
                      </tr>`
            table.innerHTML += row


        }
    }

</script>
</html>


<!-- 3db1bd896f3cd37b3e13bf9ed237007a -->